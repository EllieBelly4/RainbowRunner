npcs = {
    -- This is not spawnable
    --{
    --    name = "base",
    --    position = Vector3.new(400, -152, 49),
    --    rotation = 249
    --},

    {
        --X: 423.285156 Y: -77.488281 Z: 49.914062 Rot: 190.00
        name = "gnome2",
        position = Vector3.new(423, -77, 49),
        rotation = 190,
        behaviour = "creatures.summon.blinggnome.base.BlingGnome_NPC.Behavior"
    },

    {
        --X: -24.601562 Y: -155.328125 Z: 50.097656 Rot: 222.00
        name = "gnome1",
        position = Vector3.new(-24, -155, 50),
        rotation = 222,
        behaviour = "creatures.summon.blinggnome.base.BlingGnome_NPC.Behavior"
    },

    {
        --X: 551.433594 Y: -444.738281 Z: 73.398438 Rot: 319.00
        name = "townlieutenant",
        position = Vector3.new(551, -444, 73),
        rotation = 319
    },

    {
        --X: 223.144531 Y: -63.332031 Z: 44.242188 Rot: 70.00
        name = "amazon1",
        position = Vector3.new(223, -63, 44),
        rotation = 70
    },

    {
        --X: 456.441406 Y: -528.757812 Z: 74.910156 Rot: 213.00
        name = "snowman1",
        position = Vector3.new(456, 528, 74),
        rotation = 213,
        behaviour = "npc.Base.Behavior"
    },

    {
        --X: 69.144531 Y: 357.539062 Z: 84.867188 Rot: 181.00
        name = "vendorweapon3",
        position = Vector3.new(69, 357, 84),
        rotation = 181,
        behaviour = "npc.Base.Behavior"
    },

    {
        --X: -51.855469 Y: 277.316406 Z: 84.945312 Rot: 243.00
        name = "patrice",
        position = Vector3.new(-51, 277, 84),
        rotation = 243
    },

    {
        --X: 321.632812 Y: 600.750000 Z: 142.562500 Rot: 175.00
        name = "tokenjewelry",
        position = Vector3.new(321, 600, 142),
        rotation = 175
    },

    {
        --X: 131.773438 Y: -372.359375 Z: 50.097656 Rot: 31.00
        name = "trainerfighter",
        position = Vector3.new(131, -372, 50),
        rotation = 31
    },

    {
        --X: 738.320312 Y: -329.164062 Z: 50.062500 Rot: 120.00
        name = "helpernoobosaur01_pvp",
        position = Vector3.new(738, -329, 50),
        rotation = 300,
        behaviour = "npc.Base.Behavior"
    },

    {
        --X: -62.410156 Y: -524.523438 Z: 50.097656 Rot: 287.00
        name = "helpernoobosaur01",
        position = Vector3.new(-62., -524, 50),
        rotation = 107,
        behaviour = "npc.Base.Behavior"
    },

    {
        --X: 718.089844 Y: 554.804688 Z: 143.511719 Rot: 161.00
        name = "townguard3",
        position = Vector3.new(718, 554, 143),
        rotation = 249
    },

    {
        --X: 629.992188 Y: -234.765625 Z: 49.914062 Rot: 164.00
        name = "girl1",
        position = Vector3.new(645, -227, 57),
        rotation = 75
    },

    {
        --X: 693.570312 Y: -554.574219 Z: 74.796875 Rot: 44.00
        name = "vendorturd",
        position = Vector3.new(693, -554, 74),
        rotation = 44
    },

    {
        name = "townguard2",
        position = Vector3.new(337, -232, 49),
        rotation = 354
    },

    {
        name = "vendorpotion1",
        position = Vector3.new(496, -88, 57),
        rotation = 140
    },

    {
        --X: 300.367188 Y: -182.953125 Z: 49.914062 Rot: 276.00
        name = "trainermage",
        position = Vector3.new(300, -182, 49),
        rotation = 276
    },

    {
        --X: 63.082031 Y: -311.707031 Z: 50.097656 Rot: 293.00
        name = "vendorweapon1",
        position = Vector3.new(63, -311, 50),
        rotation = 293,
    },

    {
        --X: 494.910156 Y: -252.867188 Z: 49.914062 Rot: 35.00
        name = "trainerranger",
        position = Vector3.new(494, -252, 49),
        rotation = 35
    },

    {
        --X: 355.804688 Y: -385.023438 Z: 76.203125 Rot: 344.00
        name = "towncommander",
        position = Vector3.new(355, -385, 76),
        rotation = 344
    },

    {
        --X: 146.808594 Y: -3.687500 Z: 44.242188 Rot: 135.00
        name = "bomb",
        position = Vector3.new(146, -3, 44),
        rotation = 30
    },

    {
        --X: 131.023438 Y: -241.296875 Z: 50.097656 Rot: 259.00
        name = "boy1",
        position = Vector3.new(131, -241, 50),
        rotation = 259
    },

    {
        --X: 764.464844 Y: -410.191406 Z: 50.515625 Rot: 73.00
        name = "townguard1",
        position = Vector3.new(764, -410, 50),
        rotation = 73
    },

    {
        --X: 343.039062 Y: 322.851562 Z: 147.402344 Rot: 167.00
        name = "well",
        position = Vector3.new(342, 310, 147),
        rotation = 132
    },

    {
        --X: 742.906250 Y: 418.429688 Z: 143.511719 Rot: 50.00
        name = "bank",
        position = Vector3.new(742, 418, 143),
        rotation = 50
    },

    {
        --X: 600.097656 Y: 130.042969 Z: 128.960938 Rot: 308.00
        name = "tokenma",
        position = Vector3.new(600, 130, 128),
        rotation = 308
    },

    {
        --X: 527.972656 Y: 170.609375 Z: 143.785156 Rot: 306.00
        name = "tokenrg",
        position = Vector3.new(527, 170, 143),
        rotation = 306
    },

    {
        --X: 514.511719 Y: 234.628906 Z: 144.085938 Rot: 268.00
        name = "tokenfi",
        position = Vector3.new(514, 234, 144),
        rotation = 268
    },

    {
        --X: 550.457031 Y: 621.085938 Z: 143.511719 Rot: 134.00
        name = "possemagnate",
        position = Vector3.new(550, 621, 143),
        rotation = 134
    },

    {
        --X: 183.218750 Y: 551.996094 Z: 142.664062 Rot: 217.00
        name = "oldman1",
        position = Vector3.new(183, 551, 142),
        rotation = 217
    },
}

for i, v in ipairs(npcs) do
    npc = currentZone:loadNPCFromConfig(v["name"])

    if v["behaviour"] then
        npc:removeChildrenByGCNativeType("UnitBehavior")
        behaviour = MonsterBehavior2.new(v["behaviour"])
        npc:addChild(behaviour)
    elseif npc:getChildByGCNativeType("UnitBehavior") == null then
        behaviour = MonsterBehavior2.new("npc.Base.Behavior")
        npc:addChild(behaviour)
    end

    npc:worldEntityFlags(0x6)

    currentZone:spawn(npc, v["position"], v["rotation"])
end

obelisk = CheckpointEntity.new("world.checkpoints.TownCheckpointEntity")
currentZone:spawn(obelisk, Vector3.new(441, -168, 49), 92)

function spawnVendorWeapon2()
    vendor = currentZone:loadNPCFromConfig("vendorweapon2")

    behaviour = MonsterBehavior2.new("npc.Base.Behavior")
    vendor:addChild(behaviour)

    merchant = Merchant.new("world.town.npc.VendorWeapon2.Merchant")

    inventory1 = MerchantInventory.new("world.town.npc.VendorWeapon2.Merchant.Weapon", 1)
    inventory2 = MerchantInventory.new("world.town.npc.VendorWeapon2.Merchant.Armor", 2)
    inventory3 = MerchantInventory.new("world.town.npc.VendorWeapon2.Merchant.Superior", 3)

    merchant:addChild(inventory1)
    merchant:addChild(inventory2)
    merchant:addChild(inventory3)

    vendor:addChild(merchant)

    vendor:level(100)
    vendor:unitFlags(0xFF)
    vendor:hp(1000)
    vendor:mp(2000)

    vendor:unk10Case(0xFF)

    vendor:unk20CaseEntityID(0xFFFF)
    vendor:unk40Case0(0xFFFF)
    vendor:unk40Case1(0xFFFF)
    vendor:unk40Case2(0xFFFF)

    vendor:unk40Case3(0xFF)
    vendor:unk80Case(0xFF)

    vendor:worldEntityFlags(0x7)

    currentZone:spawn(vendor, Vector3.new(563, 423, 143), 257)
end

spawnVendorWeapon2()